import{t as h,a as f}from"../chunks/CMY6Seje.js";import{s as W,g as l,O as X,P as K,L as se,Q as i,R as a,T as s,V as m,N as ie,M as ve}from"../chunks/CsWNy0iH.js";import{s as g,d as ne}from"../chunks/Cvr2toEO.js";import{D as y,e as T,i as S,I as E,b as ce,a as Z,c as oe,s as ee,r as J,d as ue}from"../chunks/D_JoGUew.js";import{p as ae,i as _e}from"../chunks/_W78yxqw.js";function te(){let z=X(null),x=X(!1),e=K(()=>l(z)===!0?l(x):null);return{get active(){return l(z)},get checked(){return l(e)},set checked(R){W(z,ae(R===null?!1:l(z)!==null)),W(x,ae(R))}}}var pe=h("<span><!> </span>"),fe=h("<span><!> </span>"),me=h("<span><!> </span>"),he=h("<span><!> </span>"),xe=h("<span> <!></span>"),be=h("<span> <!></span>"),ge=h("<span> <!></span>"),Ie=h("<span> <!></span>"),ke=h('<h6> </h6> <div class="flex gap-2 ml-4"><div class="flex flex-col"></div> => <div class="flex flex-col"></div></div> <h6>actually every minute</h6> <div class="flex gap-2 ml-4"><div class="flex flex-col"></div> => <div class="flex flex-col"></div></div>',1),ye=h('<div class="max-w-sm flex-col bg-gray-500 bg-opacity-100 opacity-100 z-40 pointer-events-none p-4"><h6> </h6> <div class="flex gap-2 ml-4"><div class="flex flex-col"></div> => <div class="flex flex-col"></div></div> <h6>every minute</h6> <div class="flex gap-2 ml-4"><div class="flex flex-col"></div> => <div class="flex flex-col"></div></div> <!></div>');function Re(z,x){se(x,!0);let e=y.recipe[x.recipeId],I=60*60/((e==null?void 0:e.TimeSpend)??60);var D=ye(),N=i(D),Y=i(N);a(N);var Q=s(N,2),V=i(Q);T(V,21,()=>e==null?void 0:e.Items,S,(n,_,o)=>{var v=pe(),r=i(v);E(r,{get itemId(){return l(_)}});var c=s(r);a(v),m(()=>g(c,` ${e.ItemCounts[o]??""}`)),f(n,v)}),a(V);var H=s(V,2);T(H,21,()=>e==null?void 0:e.Results,S,(n,_,o)=>{var v=fe(),r=i(v);E(r,{get itemId(){return l(_)}});var c=s(r);a(v),m(()=>g(c,` ${e.ResultCounts[o]??""}`)),f(n,v)}),a(H),a(Q);var U=s(Q,4),L=i(U);T(L,21,()=>e==null?void 0:e.Items,S,(n,_,o)=>{var v=me(),r=i(v);E(r,{get itemId(){return l(_)}});var c=s(r);a(v),m(()=>g(c,` ${e.ItemCounts[o]*I}`)),f(n,v)}),a(L);var P=s(L,2);T(P,21,()=>e==null?void 0:e.Results,S,(n,_,o)=>{var v=he(),r=i(v);E(r,{get itemId(){return l(_)}});var c=s(r);a(v),m(()=>g(c,` ${e.ResultCounts[o]*I}`)),f(n,v)}),a(P),a(U);var j=s(U,2);{var q=n=>{var _=ke(),o=ve(_),v=i(o);a(o);var r=s(o,2),c=i(r);T(c,21,()=>e==null?void 0:e.Items,S,(k,C,w)=>{var d=xe(),u=i(d),M=s(u);E(M,{get itemId(){return l(C)}}),a(d),m(()=>g(u,`${e.ItemCounts[w]*x.multiplier} `)),f(k,d)}),a(c);var A=s(c,2);T(A,21,()=>e==null?void 0:e.Results,S,(k,C,w)=>{var d=be(),u=i(d),M=s(u);E(M,{get itemId(){return l(C)}}),a(d),m(()=>g(u,`${e.ResultCounts[w]*x.multiplier} `)),f(k,d)}),a(A),a(r);var B=s(r,4),$=i(B);T($,21,()=>e==null?void 0:e.Items,S,(k,C,w)=>{var d=ge(),u=i(d),M=s(u);E(M,{get itemId(){return l(C)}}),a(d),m(()=>g(u,`${e.ItemCounts[w]*I*x.multiplier} `)),f(k,d)}),a($);var F=s($,2);T(F,21,()=>e==null?void 0:e.Results,S,(k,C,w)=>{var d=Ie(),u=i(d),M=s(u);E(M,{get itemId(){return l(C)}}),a(d),m(()=>g(u,`${e.ResultCounts[w]*I*x.multiplier} `)),f(k,d)}),a(F),a(B),m(()=>g(v,`actually every ${e.TimeSpend/60}s:`)),f(n,_)};_e(j,n=>{x.multiplier&&n(q)})}a(D),m(()=>g(Y,`every ${e.TimeSpend/60}s:`)),f(z,D),ie()}var De=h("<option> </option>"),Ce=h('<div class="w-1/2 flex flex-col items-stretch group"><div class="my-2 z-30"><a class="w-xs"> </a></div> <div class="group-hover:overflow-visible overflow-clip h-0 z-40"><!></div></div>'),we=h('<div class="flex w-full gap-2 "><select multiple></select> <div class="flex flex-col gap-4 "><div class="flex gap-4 "><label>buildable <input type="checkbox"></label> <button>❌</button></div> <div class="flex gap-4 "><label>fluids <input type="checkbox"></label> <button>❌</button></div> <div class="flex gap-4 "><label>entities <input type="checkbox"></label> <button>❌</button></div></div> <input></div> <!>',1);function Ee(z,x){se(x,!0);let e=X(ae([])),R=te(),I=te(),D=te(),N=X(""),Y=K(()=>l(N)?y.items.filter(t=>t.Name.toLowerCase().includes(l(N).toLowerCase())).map(t=>t.ID):[]),Q=K(()=>(()=>{const t=new Set;return l(Y).forEach(b=>{for(const p of y.relatedRecipes[b]??[])t.add(p)}),t})()),V=K(()=>y.recipees.filter(t=>l(e).length>0?l(e).includes(t.Type):!0).filter(t=>l(N)?l(Q).has(t.ID):!0).filter(t=>R.checked===null?!0:R.checked?y.buildableRecipees.has(t.ID):!y.buildableRecipees.has(t.ID)).filter(t=>I.checked===null?!0:I.checked?y.fluidRecipees.has(t.ID):!y.fluidRecipees.has(t.ID)).filter(t=>D.checked===null?!0:D.checked?y.entityRecipees.has(t.ID):!y.entityRecipees.has(t.ID))),H=new Set(y.recipees.map(t=>t.Type));var U=we(),L=ve(U),P=i(L);T(P,21,()=>H,S,(t,b)=>{var p=De(),O={},G=i(p,!0);a(p),m(()=>{O!==(O=l(b))&&(p.value=(p.__value=l(b))==null?"":l(b)),g(G,l(b))}),f(t,p)}),a(P);var j=s(P,2),q=i(j),n=i(q),_=s(i(n));J(_),a(n);var o=s(n,2);o.__click=()=>R.checked=null;let v;a(q);var r=s(q,2),c=i(r),A=s(i(c));J(A),a(c);var B=s(c,2);B.__click=()=>I.checked=null;let $;a(r);var F=s(r,2),k=i(F),C=s(i(k));J(C),a(k);var w=s(k,2);w.__click=()=>D.checked=null;let d;a(F),a(j);var u=s(j,2);J(u),a(L);var M=s(L,2);T(M,17,()=>l(V),S,(t,b)=>{var p=Ce(),O=i(p),G=i(O),re=i(G,!0);a(G),a(O);var le=s(O,2),de=i(le);Re(de,{get recipeId(){return l(b).ID}}),a(le),a(p),m(()=>{ue(G,"href",`/recipe/${l(b).ID??""}`),g(re,l(b).Name)}),f(t,p)}),m((t,b,p)=>{v=ee(o,1,"",null,v,t),$=ee(B,1,"",null,$,b),d=ee(w,1,"",null,d,p)},[()=>({"opacity-0":!R.active}),()=>({"opacity-0":!I.active}),()=>({"opacity-0":!D.active})]),ce(P,()=>l(e),t=>W(e,t)),Z(_,()=>R.checked,t=>R.checked=t),Z(A,()=>I.checked,t=>I.checked=t),Z(C,()=>D.checked,t=>D.checked=t),oe(u,()=>l(N),t=>W(N,t)),f(z,U),ie()}ne(["click"]);export{Ee as component};
