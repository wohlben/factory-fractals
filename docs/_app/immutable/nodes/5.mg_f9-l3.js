var ut=Object.defineProperty;var vt=(d,a,e)=>a in d?ut(d,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):d[a]=e;var A=(d,a,e)=>vt(d,typeof a!="symbol"?a+"":a,e);import{c as be,a as b,t as k,b as pt}from"../chunks/e-TftYpV.js";import{at as mt,aG as ft,Q as ht,z as bt,A as we,B as _t,K as gt,J as It,L as xt,U as yt,p as _e,f as Z,g as s,b as ve,a as ge,s as I,c as p,r as c,h as se,t as C,M as ze,e as ee}from"../chunks/DKDpRE7g.js";import{d as Ie,s as z}from"../chunks/CQBbwnrn.js";import{i as V}from"../chunks/PbJpwx8q.js";import{t as kt,s as he,c as Ue,b as Pt,o as Oe}from"../chunks/Cs5HLVpE.js";import{s as $e,a as R}from"../chunks/DSW42VuP.js";import{D as m,e as pe,i as me,I as wt}from"../chunks/CRa7tc_X.js";import{w as W,d as q,g as ae}from"../chunks/DRXOzK2u.js";import{r as Ge,b as Le,L as St,s as $t}from"../chunks/BCod4-4X.js";import{p as Me}from"../chunks/BlFFt1pI.js";import{i as At}from"../chunks/CaJYm0qw.js";function Ke(d,a,e){we&&_t();var r=d,l=yt,t,i=mt()?ft:ht;bt(()=>{i(l,l=a())&&(t&&gt(t),t=It(()=>e(r)))}),we&&(r=xt)}function Ce(d,a,e,r){var l=d.__style;if(we||l!==a){var t=kt(a);(!we||t!==d.getAttribute("style"))&&(t==null?d.removeAttribute("style"):d.style.cssText=t),d.__style=a}return r}const Et=!1,Rt=({params:d,url:a})=>{const{id:e}=d,r=Number(e),l=a.searchParams.get("depth"),t=a.searchParams.get("targetAmount");return{recipeId:r,depth:l&&parseInt(l)||1,targetAmount:t&&parseInt(t)||1}},$r=Object.freeze(Object.defineProperty({__proto__:null,load:Rt,prerender:Et},Symbol.toStringTag,{value:"Module"})),re=(d,a)=>{const e=localStorage==null?void 0:localStorage.getItem(`dt.${d}`);return e?W(parseFloat(e)):W(a)},ce={defaultTier:{Smelt:re("Smelt",1),Assemble:re("Assemble",.75),Research:re("Research",1),Chemical:re("Chemical",1),Refine:re("Refine",1),Particle:re("Particle",1),Fractionate:re("Fractionate",1),Proliferator:re("Proliferator",1)},availableTiers:{Smelt:[1,2],Assemble:[.75,1,1.5,3],Research:[1],Refine:[1],Chemical:[1],Particle:[1],Fractionate:[1],Proliferator:[.125,.2,.25]}};class Bt{constructor(a,e,r,l,t,i,n){this.recipeId=a,this.itemId=e,this.targetAmount=r,this.targetInterval=l,this.tier=t,this.proliferator=i,this.timeSpend=n}}const De=(d,a)=>{const e={...d};return Object.entries(a).forEach(([r,l])=>{const t=Number(r);e[t]=l}),e};class Se extends Bt{constructor(e,r,l,t,i=0,n=1,f){var v;const _=!!(r&&(m.canBeExtracted[r]||m.canBeMined[r]));!e&&!_&&(e=(v=m.alternativeRecipe[r])==null?void 0:v[0]);const w=W(e),u=e?m.recipe[e]:void 0;let P=u==null?void 0:u.Results.findIndex(y=>r===y);const D=!r;!r&&(P??-1)>=0&&(r=u==null?void 0:u.Results[P??0]);const O=W(r),o=W((u==null?void 0:u.ResultCounts[P??0])??f??1),g=l?q([O,l],([y,G])=>G[y]):o,x=W(u!=null&&u.Type?ae(ce.defaultTier[u.Type]):1),E=W(ae(ce.defaultTier.Proliferator)),B=W(0),h=q([w,x],([y,G])=>{var K;return((K=m.recipe[y])==null?void 0:K.TimeSpend)/G});t||(t=q([B,h],([y,G])=>y>0?y:G));super(w,O,g,t,x,E,h);A(this,"amountEditable");A(this,"manualAmount",W());A(this,"manualInterval");A(this,"children",W([]));A(this,"canBeMined",q(this.itemId,e=>m.canBeMined[e]));A(this,"canBeExtracted",q(this.itemId,e=>m.canBeExtracted[e]));A(this,"item",q(this.itemId,e=>m.item[e]));A(this,"recipe",q(this.recipeId,e=>m.recipe[e]));A(this,"options",q(this.itemId,e=>m.alternativeRecipe[e]));A(this,"timeSpendChanged",q(this.timeSpend,(e,r)=>{r(!!e);const l=setTimeout(()=>r(!e),1400);return()=>clearTimeout(l)}));A(this,"relativeSpeed",q([this.targetInterval,this.timeSpend],([e,r])=>e/r));A(this,"requiredBuildings",q([this.targetAmount,this.recipe,this.itemId,this.relativeSpeed,this.proliferator],([e,r,l,t,i])=>{const n=r==null?void 0:r.Results.findIndex(_=>l===_),f=e/(r==null?void 0:r.ResultCounts[n])/t;return isNaN(f)?e:f}));A(this,"providedItemsPerInterval",q([this.recipe,this.relativeSpeed,this.requiredBuildings,this.itemId,this.targetAmount],([e,r,l,t,i])=>{if(!e&&t&&(m.canBeMined[t]||m.canBeExtracted[t]))return{[t]:i};const n={};return e==null||e.Results.forEach((f,_)=>{n[f]=e.ResultCounts[_]*r*l}),n}));A(this,"childrenProvideItemsPerInterval",q(this.children,(e,r)=>{const l=new Array(e.length),t=e.map((n,f)=>n.providedItemsPerInterval.subscribe(_=>{l[f]=_;const w=l.filter(u=>!!u).reduce((u,P)=>De(u,P),{});r(w)})),i=l.filter(n=>!!n).reduce((n,f)=>De(n,f),{});return r(i),()=>t.forEach(n=>n())}));A(this,"childrenByItemId",q(this.children,(e,r)=>{const l=new Array(e.length),t=e.map((n,f)=>n.itemId.subscribe(_=>{l[f]=[_,n];const w=l.filter(u=>!!u).reduce((u,[P,D])=>(u[P]=D,u),{});r(w)})),i=l.filter(n=>!!n).reduce((n,[f,_])=>(n[f]=_,n),{});return r(i),()=>t.forEach(n=>n())}));A(this,"requiredItemsPerInterval",q([this.recipe,this.relativeSpeed,this.requiredBuildings],([e,r,l])=>{const t={};return e==null||e.Items.forEach((i,n)=>t[i]=e.ItemCounts[n]*r*l),t}));A(this,"inputsOutputs",q([this.childrenProvideItemsPerInterval,this.requiredItemsPerInterval,this.providedItemsPerInterval],([e,r,l])=>{const t=new Set;return Object.keys(r).forEach(i=>{t.add(Number(i))}),Object.keys(e??{}).forEach(i=>{t.add(Number(i))}),Object.keys(l).forEach(i=>{t.add(Number(i))}),t}));A(this,"surplus",q([this.childrenProvideItemsPerInterval,this.requiredItemsPerInterval,this.providedItemsPerInterval,this.itemId],([e,r,l,t])=>{const i=De(e,l);return Object.entries(r).forEach(([n,f])=>i[Number(n)]=(i[Number(n)]??0)-f),Object.entries(i).filter(([,n])=>n<=0).forEach(([n])=>delete i[Number(n)]),i}));A(this,"deficit",q([this.childrenProvideItemsPerInterval,this.requiredItemsPerInterval],([e,r])=>{const l={...e};return Object.entries(r).forEach(([t,i])=>l[Number(t)]=(l[Number(t)]??0)-i),Object.entries(l).filter(([,t])=>t>=0).forEach(([t])=>delete l[Number(t)]),Object.keys(l).forEach(t=>{var n;const i=Number(t);(n=m.producedVia[i])!=null&&n.length||delete l[i]}),l}));A(this,"totals",q([this.itemId,this.requiredBuildings,this.children],([e,r,l])=>{const t={};return t[e]=r,l.map(i=>i.totals).forEach(i=>{Object.entries(i).forEach(([n,f])=>{const _=Number(n);t[_]=(t[_]??0)+f})}),t}));this.depth=i,this.amountEditable=D,this.manualAmount=o,this.manualInterval=B,n>i&&this.children.set(this.dbd(n))}setAmount(e){this.manualAmount.set(e)}setRecipeId(e){this.recipeId.set(e),this.expand()}deleteChild(e){this.children.update(r=>{const l=r.findIndex(t=>ae(t.itemId)===e);return r.splice(l,1),r})}setInterval(e){this.manualInterval.set(e)}expand(){this.children.set(this.dbd())}planFor(e){this.children.update(r=>(r.push(new Se(void 0,e,this.requiredItemsPerInterval,this.targetInterval,this.depth+1)),r))}dbd(e){const r=[],l=ae(this.recipe);return l==null||l.Items.forEach((t,i)=>{var _;if(!((_=m.alternativeRecipe[t])!=null&&_.length))return;const n=new Se(void 0,t,this.requiredItemsPerInterval,this.targetInterval,this.depth+1,e);r.push(n);const f=ae(n.providedItemsPerInterval);Object.entries(f).forEach(([w,u])=>{})}),r}}var Nt=(d,a,e)=>a(s(e)),Tt=k("<button> </button>"),qt=k('<div><span class="text-xs text-gray-400">Tier</span> <!></div>'),Ot=(d,a)=>se(a,!0),Ct=k('<button class="text-center min-w-16 h-10 rounded-l-lg bg-slate-800 hover:bg-slate-700 py-2 px-3 flex justify-around items-end gap-2 relative "><span class="text-xs text-gray-400 absolute top-0"> </span> <b class="bottom-0.5 absolute"> </b></button>');function Dt(d,a){_e(a,!0);const[e,r]=$e(),l=()=>R(n,"$recipe",e),t=()=>R(f,"$tier",e),i=()=>R(_,"$requiredBuildings",e);let{recipe:n,tier:f,requiredBuildings:_}=a.planner,w=ve(!1);const u=g=>{a.planner.tier.set(g),se(w,!1)};var P=be(),D=Z(P);{var O=g=>{var x=qt(),E=I(p(x),2);pe(E,1,()=>ce.availableTiers[l().Type],me,(B,h)=>{var v=Tt();let y;v.__click=[Nt,u,h];var G=p(v,!0);c(v),C(K=>{y=he(v,1,"px-2 py-1 outline-slate-600 hover:bg-slate-700 text-sm  rounded",null,y,K),z(G,s(h))},[()=>({"outline-1":s(h)===t(),active:s(h)===t()})]),b(B,v)}),c(x),b(g,x)},o=g=>{var x=Ct();x.__click=[Ot,w];var E=p(x),B=p(E);c(E);var h=I(E,2),v=p(h,!0);c(h),c(x),C(y=>{z(B,`tier ${t()??""}`),z(v,y)},[()=>Math.round(i()*100)/100]),b(g,x)};V(D,g=>{s(w)?g(O):g(o,!1)})}b(d,P),ge(),r()}Ie(["click"]);var Mt=(d,a)=>a.deletecb(),jt=k(`<style scoped="">input[type=number]::-webkit-inner-spin-button {
              opacity: 1
          }</style> <input type="number" class="text-left rounded-r-lg w-16">`,1),Ft=k('<div class="flex items-center"><span class="pl-2">🗑</span>️ <span class="text-sm py-2 block pr-4"> </span></div>'),Vt=k("<option>extraction/mining</option>"),zt=k("<option> </option>"),Lt=k(" <select><!><!></select>",1),Ut=(d,a,e)=>a.planner.planFor(s(e)),Gt=k('<div class="flex items-center"><span class="pl-2">📝</span>️ <span class="text-sm py-2 block pr-4"> </span></div>'),Kt=k('<div class="flex items-center"><span class="pl-4"></span>️ <span class="text-sm py-2 block pr-4"> </span></div>'),Jt=k("<div><!></div>"),Qt=k('<div class="flex gap-2"><button class="bg-slate-800 hover:bg-slate-700  text-center rounded-r-lg "><!></button> <!></div>'),Zt=k('<div class="flex flex-col gap-0.5"></div>'),Ht=k('<div class="flex gap-1 max-w-2xl items-center"><button class="bg-slate-800 hover:bg-slate-700  text-center rounded-r-lg  "><!></button> <div class="flex-grow px-4"><h5><!></h5></div> <!></div> <!>',1);function Je(d,a){_e(a,!0);const[e,r]=$e(),l=()=>R(K,"$targetAmount",e),t=()=>R(B,"$recipeId",e),i=()=>R(x,"$itemId",e),n=()=>R(Ee,"$options",e),f=()=>R(g,"$item",e),_=()=>R(E,"$recipe",e),w=()=>R(v,"$requiredBuildings",e),u=()=>R(ye,"$inputsOutputs",e),P=()=>R(Ae,"$providedItemsPerInterval",e),D=()=>R(xe,"$childrenProvideItemsPerInterval",e),O=()=>R(fe,"$requiredItemsPerInterval",e),o=()=>R(G,"$childrenByItemId",e);let{item:g,itemId:x,recipe:E,recipeId:B,targetInterval:h,requiredBuildings:v,children:y,childrenByItemId:G,targetAmount:K,childrenProvideItemsPerInterval:xe,providedItemsPerInterval:Ae,requiredItemsPerInterval:fe,inputsOutputs:ye,deficit:je,options:Ee,tier:Fe}=a.planner,de=ve(Me(l())),S=ve(Me(t()));ze(()=>{a.planner.amountEditable&&l()!==s(de)&&a.planner.setAmount(s(de))}),ze(()=>{s(S)!==t()&&a.planner.setRecipeId(s(S))});var M=Ht(),j=Z(M),Q=p(j);Q.__click=[Mt,a];var Re=p(Q);{var Qe=$=>{var N=jt(),L=I(Z(N),2);Ge(L),Ue(L,()=>s(de),T=>se(de,T)),b($,N)},Ze=$=>{var N=Ft(),L=I(p(N),2),T=p(L,!0);c(L),c(N),C(ne=>{Ce(L,`padding-left: ${(a.planner.depth+.5)*1.1}rem`),z(T,ne)},[()=>Math.round(l()*100)/100]),b($,N)};V(Re,$=>{a.planner.amountEditable?$(Qe):$(Ze,!1)})}c(Q);var Be=I(Q,2),Ve=p(Be),He=p(Ve);{var We=$=>{var N=Lt(),L=Z(N),T=I(L),ne=p(T);{var X=Y=>{var F=Vt();F.value=(F.__value=void 0)==null?"":void 0,C(()=>Le(F,t()===void 0)),b(Y,F)};V(ne,Y=>{(m.canBeExtracted[i()]||m.canBeMined[i()])&&Y(X)})}var ke=I(ne);pe(ke,1,n,me,(Y,F)=>{var J=zt(),le={},Ne=p(J,!0);c(J),C(()=>{le!==(le=m.recipe[s(F)].ID)&&(J.value=(J.__value=m.recipe[s(F)].ID)==null?"":m.recipe[s(F)].ID),Le(J,B===m.recipe[s(F)].ID),z(Ne,m.recipe[s(F)].Name)}),b(Y,J)}),c(T),C(()=>z(L,`${f().Name??""}: `)),Pt(T,()=>s(S),Y=>se(S,Y)),b($,N)},Xe=$=>{var N=pt();C(()=>{var L;return z(N,(L=_())==null?void 0:L.Name)}),b($,N)};V(He,$=>{i()&&(n().length>1||n().length>=1&&m.canBeExtracted[i()]||m.canBeMined[i()])?$(We):$(Xe,!1)})}c(Ve),c(Be);var Ye=I(Be,2);{var et=$=>{Dt($,{get planner(){return a.planner}})};V(Ye,$=>{w()&&t()&&$(et)})}c(j);var tt=I(j,2);{var rt=$=>{var N=Zt();pe(N,5,u,me,(L,T)=>{var ne=be();const X=ee(()=>{var F,J,le;return(((F=P())==null?void 0:F[s(T)])??0)+(((J=D())==null?void 0:J[s(T)])??0)-(((le=O())==null?void 0:le[s(T)])??0)}),ke=ee(()=>o()[s(T)]);var Y=Z(ne);Ke(Y,()=>s(T),F=>{var J=be(),le=Z(J);{var Ne=ue=>{Je(ue,{get planner(){return s(ke)},deletecb:()=>a.planner.deleteChild(s(T))})},at=ue=>{var Te=Qt(),Pe=p(Te);Pe.__click=[Ut,a,T];var st=p(Pe);{var nt=H=>{var U=Gt(),te=I(p(U),2),ie=p(te,!0);c(te),c(U),C(oe=>{Ce(te,`padding-left: ${(a.planner.depth+.5)*1.1}rem`),z(ie,oe)},[()=>Math.round(s(X)*100)/100]),b(H,U)},lt=(H,U)=>{{var te=ie=>{var oe=Kt(),qe=I(p(oe),2),ct=p(qe,!0);c(qe),c(oe),C(dt=>{Ce(qe,`padding-left: ${(a.planner.depth+.5)*1.1}rem`),z(ct,dt)},[()=>Math.round(s(X)*100)/100]),b(ie,oe)};V(H,ie=>{s(T)!==i()&&s(X)!==0&&ie(te)},U)}};V(st,H=>{var U;s(X)<0&&((U=m.producedVia[s(T)])==null?void 0:U.length)>0?H(nt):H(lt,!1)})}c(Pe);var it=I(Pe,2);{var ot=H=>{var U=Jt();let te;var ie=p(U);wt(ie,{get itemId(){return s(T)}}),c(U),C(oe=>te=he(U,1,"flex gap-2 items-center",null,te,oe),[()=>({"text-green-500":s(X)>0,"text-red-500":s(X)<0})]),b(H,U)};V(it,H=>{s(T)!==i()&&s(X)!==0&&H(ot)})}c(Te),b(ue,Te)};V(le,ue=>{s(ke)?ue(Ne):ue(at,!1)})}b(F,J)}),b(L,ne)}),c(N),b($,N)};V(tt,$=>{var N;((N=u())==null?void 0:N.size)>0&&$(rt)})}b(d,M),ge(),r()}Ie(["click"]);var Wt=k('<div class="flex flex-col items-stretch group w-full "><div class="my-2 z-30"><a class="w-xs"> </a></div></div>'),Xt=k('<div class="flex gap-0.5 flex-col mb-4 sticky top-0 mr-2 backdrop-blur-3xl backdrop-opacity-75  z-50"><!> <label for="recipeName">ingredient or recipe name</label><input id="recipeName"></div> <!>',1);function Yt(d,a){_e(a,!0);let e=ve(Me([])),r=Oe(),l=Oe(),t=Oe(),i=ve(""),n=ee(()=>s(i)?m.items.filter(o=>o.Name.toLowerCase().includes(s(i).toLowerCase())).map(o=>o.ID):[]),f=ee(()=>(()=>{const o=new Set;return s(n).forEach(g=>{for(const x of m.relatedRecipes[g]??[])o.add(x)}),o})()),_=ee(()=>m.recipees.filter(o=>s(e).length>0?s(e).includes(o.Type):!0).filter(o=>s(i)?s(f).has(o.ID):!0).filter(o=>r.checked===null?!0:r.checked?m.buildableRecipees.has(o.ID):!m.buildableRecipees.has(o.ID)).filter(o=>l.checked===null?!0:l.checked?m.fluidRecipees.has(o.ID):!m.fluidRecipees.has(o.ID)).filter(o=>t.checked===null?!0:t.checked?m.entityRecipees.has(o.ID):!m.entityRecipees.has(o.ID)));new Set(m.recipees.map(o=>o.Type));var w=Xt(),u=Z(w),P=p(u);V(P,o=>{});var D=I(P,3);Ge(D),c(u);var O=I(u,2);pe(O,17,()=>s(_),me,(o,g)=>{var x=Wt(),E=p(x),B=p(E),h=p(B,!0);c(B),c(E),c(x),C(v=>{$t(B,"href",v),z(h,s(g).Name)},[()=>St.recipe(s(g).ID)]),b(o,x)}),Ue(D,()=>s(i),o=>se(i,o)),b(d,w),ge()}Ie(["click"]);var er=k('<button class="flex-grow shadow-xl py-2 m-4 outline-amber-100 outline-1 active bg-slate-500 hover:bg-slate-400  text-white rounded-lg"> </button>'),tr=k('<button class="flex-grow shadow-xl py-2 m-4	bg-slate-800 hover:bg-slate-700 text-gray-300 rounded-lg"> </button>'),rr=k('<button class="flex-grow shadow-xl py-2 m-4 outline-amber-100 outline-1 active rounded-lg bg-slate-500 hover:bg-slate-400  text-white"> </button>'),ar=k('<button class="flex-grow shadow-xl py-2 m-4 bg-slate-800 hover:bg-slate-700 text-gray-300 rounded-lg"> </button>'),sr=k('<h3 class="bg-blue-800  rounded-t py-5 px-4">default tier for new factories</h3> <div><h4 class="bg-blue-900 py-2 px-4 rounded-t">Smelting</h4> <div class="flex bg-gray-600 "></div></div> <div><h4 class="bg-blue-900 py-2 px-4 rounded-t">Assembler</h4> <div class="flex bg-gray-600 "></div></div>',1);function nr(d,a){_e(a,!1);const[e,r]=$e(),l=()=>R(i,"$Smelt",e),t=()=>R(n,"$Assemble",e);let{Smelt:i,Assemble:n}=ce.defaultTier;const f=(O,o,g)=>{localStorage.setItem(`dt.${O}`,o),g.set(o)};At();var _=sr(),w=I(Z(_),2),u=I(p(w),2);pe(u,5,()=>ce.availableTiers.Smelt,me,(O,o)=>{var g=be(),x=Z(g);{var E=h=>{var v=er();v.__click=()=>f("Smelt",s(o),i);var y=p(v,!0);c(v),C(()=>z(y,s(o))),b(h,v)},B=h=>{var v=tr();v.__click=()=>f("Smelt",s(o),i);var y=p(v,!0);c(v),C(()=>z(y,s(o))),b(h,v)};V(x,h=>{s(o)===l()?h(E):h(B,!1)})}b(O,g)}),c(u),c(w);var P=I(w,2),D=I(p(P),2);pe(D,5,()=>ce.availableTiers.Assemble,me,(O,o)=>{var g=be(),x=Z(g);{var E=h=>{var v=rr();v.__click=()=>f("Assemble",s(o),n);var y=p(v,!0);c(v),C(()=>z(y,s(o))),b(h,v)},B=h=>{var v=ar();v.__click=()=>f("Assemble",s(o),n);var y=p(v,!0);c(v),C(()=>z(y,s(o))),b(h,v)};V(x,h=>{s(o)===t()?h(E):h(B,!1)})}b(O,g)}),c(D),c(P),b(d,_),ge(),r()}Ie(["click"]);var lr=(d,a)=>a(),ir=(d,a)=>se(a,!1),or=k('<dialog open class="max-w-2xl w-full h-full max-h-10/12 mx-auto top-1/12 bg-gray-950 z-50 md:px-5 text-amber-50 flex flex-col py-4 gap-2"><!> <span class="flex-grow"></span> <button class="bg-green-800 hover:bg-green-700 w-full py-1">apply to existing</button> <button class="bg-green-800 hover:bg-green-700 w-full py-1">apply to future</button></dialog>'),cr=(d,a)=>s(a).setInterval(0),dr=(d,a,e)=>s(a).setInterval(e),ur=(d,a)=>s(a).setInterval(60),vr=k("<button>Second</button>"),pr=(d,a)=>se(a,!0),mr=k(`<!> <div class="flex gap-12"><div class="max-w-sm lg:block hidden max-h-screen  ml-auto overflow-y-auto"><!></div> <div class="max-w-2xl w-full mr-auto ml-auto lg:ml-0"><div class="flex  text-sm py-1"><span class="px-3 py-1 bg-slate-800 rounded-r-lg">Items per <span class="inline-flex"><button> </button> <button>Minute</button> <!></span></span> <span class="px-3 py-3 flex-grow text-right"></span> <button class="px-3 py-3 bg-slate-800 hover:bg-slate-700 rounded-l-lg">⚙️ Required Fabs to Process
				Items</button></div> <!></div></div>`,1);function Ar(d,a){_e(a,!0);const[e,r]=$e(),l=()=>R(s(w),"$timeSpendChanged",e),t=()=>R(s(f),"$targetInterval",e),i=()=>R(s(_),"$timeSpend",e);let n=ee(()=>new Se(a.data.recipeId,void 0,void 0,void 0,void 0,a.data.depth,a.data.targetAmount)),f=ee(()=>s(n).targetInterval),_=ee(()=>s(n).timeSpend),w=ee(()=>s(n).timeSpendChanged);const u=60*60;let P=ve(!1);const D=S=>{S||(S=s(n));const M=ae(S.recipe);if(M){const j=M.Type,Q=ae(ce.defaultTier[j]);S.tier.set(Q)}ae(S.children).forEach(j=>D(j)),se(P,!1)};var O=mr(),o=Z(O);{var g=S=>{var M=or(),j=p(M);nr(j,{});var Q=I(j,4);Q.__click=[lr,D];var Re=I(Q,2);Re.__click=[ir,P],c(M),b(S,M)};V(o,S=>{s(P)&&S(g)})}var x=I(o,2),E=p(x),B=p(E);Yt(B,{}),c(E);var h=I(E,2),v=p(h),y=p(v),G=I(p(y)),K=p(G);let xe;K.__click=[cr,n];var Ae=p(K);c(K);var fe=I(K,2);let ye;fe.__click=[dr,n,u];var je=I(fe,2);{var Ee=S=>{var M=vr();let j;M.__click=[ur,n],C(Q=>j=he(M,1,"px-1.5 py-2 multi hover:bg-slate-700",null,j,Q),[()=>({active:t()===60})]),b(S,M)};V(je,S=>{i()!==60&&S(Ee)})}c(G),c(y);var Fe=I(y,4);Fe.__click=[pr,P],c(v);var de=I(v,2);Ke(de,()=>s(n),S=>{Je(S,{get planner(){return s(n)}})}),c(h),c(x),C((S,M,j)=>{xe=he(K,1,"px-1.5 py-2 multi hover:bg-slate-700",null,xe,S),z(Ae,`Cycle (${M??""}s)`),ye=he(fe,1,"px-1.5 py-2 multi hover:bg-slate-700",null,ye,j)},[()=>({"animate-flash":l(),active:t()===i()}),()=>Math.round(i()/60*100)/100,()=>({active:t()===u})]),b(d,O),ge(),r()}Ie(["click"]);export{Ar as component,$r as universal};
