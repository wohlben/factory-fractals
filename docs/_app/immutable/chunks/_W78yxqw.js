import{S as T,o as H,h as L,i as d,j as Y,g as h,U as u,s as _,k as N,p as q,q as B,v as C,w as K,x as M,y as A,z as U,E as z,H as G,A as J,B as Z,C as Q,D as P,F as D,G as S,I as j,J as V}from"./CsWNy0iH.js";function I(s,y=null,w){if(typeof s!="object"||s===null||T in s)return s;const l=C(s);if(l!==H&&l!==L)return s;var r=new Map,v=K(s),o=d(0);v&&r.set("length",d(s.length));var c;return new Proxy(s,{defineProperty(i,e,t){(!("value"in t)||t.configurable===!1||t.enumerable===!1||t.writable===!1)&&B();var f=r.get(e);return f===void 0?(f=d(t.value),r.set(e,f)):_(f,I(t.value,c)),!0},deleteProperty(i,e){var t=r.get(e);if(t===void 0)e in i&&r.set(e,d(u));else{if(v&&typeof e=="string"){var f=r.get("length"),n=Number(e);Number.isInteger(n)&&n<f.v&&_(f,n)}_(t,u),k(o)}return!0},get(i,e,t){var g;if(e===T)return s;var f=r.get(e),n=e in i;if(f===void 0&&(!n||(g=N(i,e))!=null&&g.writable)&&(f=d(I(n?i[e]:u,c)),r.set(e,f)),f!==void 0){var a=h(f);return a===u?void 0:a}return Reflect.get(i,e,t)},getOwnPropertyDescriptor(i,e){var t=Reflect.getOwnPropertyDescriptor(i,e);if(t&&"value"in t){var f=r.get(e);f&&(t.value=h(f))}else if(t===void 0){var n=r.get(e),a=n==null?void 0:n.v;if(n!==void 0&&a!==u)return{enumerable:!0,configurable:!0,value:a,writable:!0}}return t},has(i,e){var a;if(e===T)return!0;var t=r.get(e),f=t!==void 0&&t.v!==u||Reflect.has(i,e);if(t!==void 0||q!==null&&(!f||(a=N(i,e))!=null&&a.writable)){t===void 0&&(t=d(f?I(i[e],c):u),r.set(e,t));var n=h(t);if(n===u)return!1}return f},set(i,e,t,f){var O;var n=r.get(e),a=e in i;if(v&&e==="length")for(var g=t;g<n.v;g+=1){var m=r.get(g+"");m!==void 0?_(m,u):g in i&&(m=d(u),r.set(g+"",m))}n===void 0?(!a||(O=N(i,e))!=null&&O.writable)&&(n=d(void 0),_(n,I(t,c)),r.set(e,n)):(a=n.v!==u,_(n,I(t,c)));var b=Reflect.getOwnPropertyDescriptor(i,e);if(b!=null&&b.set&&b.set.call(f,t),!a){if(v&&typeof e=="string"){var E=r.get("length"),R=Number(e);Number.isInteger(R)&&R>=E.v&&_(E,R+1)}k(o)}return!0},ownKeys(i){h(o);var e=Reflect.ownKeys(i).filter(n=>{var a=r.get(n);return a===void 0||a.v!==u});for(var[t,f]of r)f.v!==u&&!(t in i)&&e.push(t);return e},setPrototypeOf(){Y()}})}function k(s,y=1){_(s,s.v+y)}function F(s){return s!==null&&typeof s=="object"&&T in s?s[T]:s}function X(s,y){return Object.is(F(s),F(y))}function $(s,y,[w,l]=[0,0]){A&&w===0&&U();var r=s,v=null,o=null,c=u,i=w>0?z:0,e=!1;const t=(n,a=!0)=>{e=!0,f(a,n)},f=(n,a)=>{if(c===(c=n))return;let g=!1;if(A&&l!==-1){if(w===0){const b=r.data;b===G?l=0:b===J?l=1/0:(l=parseInt(b.substring(1)),l!==l&&(l=c?1/0:-1))}const m=l>w;!!c===m&&(r=Z(),Q(r),P(!1),g=!0,l=-1)}c?(v?D(v):a&&(v=S(()=>a(r))),o&&j(o,()=>{o=null})):(o?D(o):a&&(o=S(()=>a(r,[w+1,l]))),v&&j(v,()=>{v=null})),g&&P(!0)};M(()=>{e=!1,y(t),e||f(null,null)},i),A&&(r=V)}export{X as a,$ as i,I as p};
